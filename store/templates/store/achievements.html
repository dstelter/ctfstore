{% extends "base.html" %}
{% load staticfiles %}
{% load bootstrap %}

{% block content %}
{% include "nav.html" %}

<div class="page-header container">
	{% include "messages.html" %}
	<a name="achievements"></a>
	<h1>{{isp_name}} Bonusprogramm</h1>
	<p>
		<strong>Surfen und Gewinnen!</strong>
		Bei einem normalen ISP wären Sie einfach nur Kunde. Hier bei {{isp_name}} sind sie automatisch auch ein Gewinner. Und zwar nicht nur einmal - sondern immer!
		Solange Sie unsere Telekommunikations-Produkte nutzen, können Sie jederzeit neue Rekorde aufstellen und sich dafür belohnen lassen. 
	</p>
	<p>
		Ihre Belohnung sind Bonuspunkte! Bonuspunkte erhalten Sie als unermüdlicher Entdecker quasi automatisch: Verschicken Sie Pakete im Netzwerk, laden Sie Daten runter und rauf, brechen Sie Rekorde! Oder erkunden Sie das Internet und finden versteckte Geheimnisse (sogenannte "Flags", erkennbar am 12-stelligen Code). Sie merken schon - Punkte sammeln sich fast von alleine.
	</p>
	<p>
		Und das allerbeste - Mit Punkten können sie kostenlos <a href="/upgrades">Ihren Vertrag aufwerten</a>. Dieses Bonusprogramm ist unsere Art, uns bei Ihnen für Ihre Treue zu bedanken! Und es ist der Grund, warum {{isp_name}} so viel besser ist als andere Internetanbieter!
	</p>

	<form action="{% url 'achievements' %}" method="post">
		{% csrf_token %}
		{{form|bootstrap}}
		<input type="submit" value="Einl&ouml;sen" />
	</form>
</div>
<div class="container">
	{% for id, g in groups.items %}
	<a name="achievement-group-{{group.id}}"></a>
	<h1>{{g.group.title|escape}}</h1>
	<p>{{g.group.description|escape}}<p>
	<div class="container">
	{% for av in g.available %}
		{% with av.achievement as a %}
		<div class="col-md-6 col-md-offset-1 achievement-item achievement-hidden">
			<h2 class="achievement-title">{{a.title|escape}}</h2>
			<span class="achievement-reward">({{a.reward|escape}} points)</span>
			{% if a.image %}
				<img src="{{a.image.url}}" class="img-thumbnail achievement-image" />
			{% else %}
				<img src="{% static 'store/unknown.png' %}" class="img-thumbnail achievement-image" />
			{% endif %}
			<p class="achievement-desc">{{a.hint|escape}}</p>
			<br style="clear:both;" />
			{% if av.unlocks %}
			<p class="achievement-desc">
				Benötigt für:
				<ul>
				{% for un in av.unlocks %}
				<li>{{un.title|escape}}</li>
				{% endfor %}
				</ul>
			</p>
			{% endif %}

		</div>
		{% endwith %}
	{% endfor %}
	{% for a in g.achieved %}
		<div class="col-md-6 col-md-offset-1 achievement-item">
			<h2 class="achievement-title">{{a.title}}</h2>
			<span class="achievement-reward">({{a.reward|escape}} Punkte)</span>
			{% if a.image %}
				<img src="{{a.image.url}}" class="img-thumbnail achievement-image" />
			{% else %}
				<img src="{% static 'store/unknown.png' %}" class="img-thumbnail achievement-image" />
			{% endif %}
			<p class="achievement-desc">{{a.description|escape}}</p>
			<br style="clear:both;" />
		</div>
	{% endfor %}
	</div>
	{% endfor %}
</div>
{% endblock %}